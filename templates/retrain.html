<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retrain Environmental Sound Model</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-logo">
            <svg class="logo-icon" width="40" height="40" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="28" y="16" width="8" height="32" rx="4" />
                <rect x="16" y="24" width="8" height="16" rx="4" opacity="0.7" />
                <rect x="40" y="24" width="8" height="16" rx="4" opacity="0.7" />
            </svg>
            <span class="brand">EnviroSound</span>
        </div>
        <div class="nav-links">
            <a href="./predict.html">Predict</a>
            <a href="./retrain.html" style="background: #e6f4ea; color: #256029;">Retrain</a>
            <a href="./visualization.html">Visualize</a>
        </div>
    </nav>
    
    <div class="container">
        <a href="./index.html" class="back-home">‚Üê Back to Home</a>
        
        <div class="page-header">
            <h1>Retrain Environmental Sound Model</h1>
            <p>Improve your model's accuracy by uploading new training data. Customize the system for your specific environment and sound patterns.</p>
        </div>
        
        <div class="upload-section">
            <div class="upload-info">
                <h2>üìã What You Need to Know</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <h3>üì¶ Dataset Format</h3>
                        <p>Upload a ZIP file containing your audio files and a CSV file with labels. The CSV should have columns: 'filename' and 'label'.</p>
                    </div>
                    <div class="info-item">
                        <h3>üéµ Audio Requirements</h3>
                        <p>Supported formats: WAV, MP3, FLAC. Recommended duration: 3-10 seconds per file. Clear, high-quality recordings work best.</p>
                    </div>
                    <div class="info-item">
                        <h3>üè∑Ô∏è Labeling Guidelines</h3>
                        <p>Include a CSV file with audio file information. The CSV should contain columns: 'filename' (audio file names) and 'label' (sound categories). Use consistent, descriptive labels like 'traffic', 'rain', 'birds', 'construction'. Avoid special characters in labels.</p>
                    </div>
                    <div class="info-item">
                        <h3>‚ö° Training Process</h3>
                        <p>The model will be retrained with your data and existing dataset. Training time depends on data size (typically 5-15 minutes).</p>
                    </div>
                </div>
            </div>
            
            <div class="upload-area">
                <div class="upload-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z" stroke="#388e3c" stroke-width="2" fill="none"/>
                        <path d="M14 2v6h6" stroke="#388e3c" stroke-width="2" fill="none"/>
                        <path d="M12 18v-6" stroke="#388e3c" stroke-width="2" fill="none"/>
                        <path d="M9 15l3 3 3-3" stroke="#388e3c" stroke-width="2" fill="none"/>
                    </svg>
                </div>
                <h3>Click to Upload Dataset</h3>
                <p>Drag and drop your ZIP file here or click to browse</p>
                <form id="retrain-form">
                    <input type="file" id="zip-file" name="file" accept=".zip" required>
                    <button type="submit" class="upload-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2v6m0 0l-3-3m3 3l3-3" stroke="currentColor" stroke-width="2" fill="none"/>
                            <path d="M12 8v8" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        Start Training
                    </button>
                </form>
            </div>
        </div>
        
        <div id="retrain-result"></div>
        
        <div class="action-links">
            <a href="./predict.html" class="action-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                Test Your Model
            </a>
            <a href="./visualization.html" class="action-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3h18v18H3V3zm2 2v14h14V5H5z" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h6v2H7v-2z" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                View Visualizations
            </a>
        </div>
    </div>
    
    <script src="/static/retrain.js"></script>
</body>
</html>